---
phase: 03-polish-docs
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - app/features/simulator/subfeature_brain/components/AutoplaySetupModal.tsx
  - app/features/simulator/subfeature_brain/components/ActivityProgressCenter.tsx
  - app/features/simulator/subfeature_brain/components/ActivityLogSidebar.tsx
autonomous: true
user_setup: []

must_haves:
  truths:
    - "Activity Modal typography matches main page components"
    - "Activity Modal uses design token system consistently"
    - "Activity Modal header style matches CentralBrain/DirectorControl headers"
  artifacts:
    - path: "app/features/simulator/subfeature_brain/components/AutoplaySetupModal.tsx"
      provides: "Polished Activity Modal container"
      contains: "type-label"
    - path: "app/features/simulator/subfeature_brain/components/ActivityProgressCenter.tsx"
      provides: "Polished progress center with consistent typography"
      contains: "type-label"
    - path: "app/features/simulator/subfeature_brain/components/ActivityLogSidebar.tsx"
      provides: "Polished log sidebar with WCAG-compliant typography"
      contains: "type-label"
  key_links:
    - from: "ActivityLogSidebar.tsx"
      to: "semanticColors"
      via: "import and usage"
      pattern: "semanticColors\\."
---

<objective>
Align Activity Modal component styling with main page visual patterns for typography, spacing, and color consistency.

Purpose: Fulfill UI-01, UI-02, UI-03 requirements - ensure Activity Modal matches the visual quality of main page components like CentralBrain and DirectorControl.

Output: Updated Activity Modal components with:
- Consistent typography using design token system (type-label, type-body-sm)
- WCAG AA compliant text sizes (minimum 11px via type-label)
- Main page header pattern with indicator dot and drop-shadow
</objective>

<execution_context>
@C:\Users\mkdol\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\mkdol\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-polish-docs/03-RESEARCH.md

# Files to modify
@app/features/simulator/subfeature_brain/components/AutoplaySetupModal.tsx
@app/features/simulator/subfeature_brain/components/ActivityProgressCenter.tsx
@app/features/simulator/subfeature_brain/components/ActivityLogSidebar.tsx

# Reference patterns (main page styling)
@app/features/simulator/subfeature_brain/components/CentralBrain.tsx
@app/features/simulator/lib/semanticColors.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Fix ActivityLogSidebar typography for WCAG compliance</name>
  <files>app/features/simulator/subfeature_brain/components/ActivityLogSidebar.tsx</files>
  <action>
Update ActivityLogSidebar.tsx to use design token typography classes:

1. **Line 203-204 area (timestamp):** Change `text-[10px]` to `type-label` (11px minimum for WCAG AA)

2. **Line 220-247 area (expandable details):** Change all `text-[10px]` to `type-label`
   - Details section font-mono should use `type-label font-mono` instead of `text-[10px] font-mono`

3. **Line 275 area (header):** Verify `text-xs` usage - if it's for section headers, keep as-is; if for small labels, use `type-label`

4. **Event entry message (line 203):** Change `text-xs` to `type-label` for the message text

The pattern from RESEARCH.md:
- `type-label` = 11px (smallest allowed, WCAG AA compliant)
- `type-body-sm` = 12px (compact text)
- `text-sm` = 14px (standard text)

Do NOT change:
- Icon sizes
- Spacing/padding classes
- Color classes (semantic colors are correct)
  </action>
  <verify>
    - No `text-[10px]` remaining in file (grep returns empty)
    - `type-label` class is used for smallest text
    - File builds without TypeScript errors: `npm run build`
  </verify>
  <done>ActivityLogSidebar uses WCAG-compliant typography (minimum 11px)</done>
</task>

<task type="auto">
  <name>Task 2: Update ActivityProgressCenter typography consistency</name>
  <files>app/features/simulator/subfeature_brain/components/ActivityProgressCenter.tsx</files>
  <action>
Update ActivityProgressCenter.tsx typography to match main page patterns:

1. **Line 189 area (StatusIndicator label):** Change `text-xs` to `type-label` for the small label text

2. **Lines 225-242 area (phase label):** The `text-purple-300`, `text-green-300`, `text-red-300` are semantic colors - these are fine. But verify the base typography class is consistent.

3. **Line 126-127 area (ProgressBar label):** `text-sm font-medium` is correct - keep as-is

4. **Line 130 area (ProgressBar counter):** `font-mono text-sm` is correct - keep as-is

5. **Iteration counter (line 248 area):** `font-mono text-sm` is correct - keep as-is

Main changes:
- StatusIndicator `text-xs` -> `type-label` for the label
- Keep other typography as-is (text-sm is appropriate for primary content)
  </action>
  <verify>
    - StatusIndicator uses `type-label` for small labels
    - Progress bar labels still use `text-sm font-medium`
    - File builds without TypeScript errors
  </verify>
  <done>ActivityProgressCenter uses consistent typography tokens</done>
</task>

<task type="auto">
  <name>Task 3: Polish AutoplaySetupModal header to match main page pattern</name>
  <files>app/features/simulator/subfeature_brain/components/AutoplaySetupModal.tsx</files>
  <action>
Update AutoplaySetupModal.tsx to match main page header styling:

1. **Header (lines 583-607 area):** Update the header to match CentralBrain/DirectorControl pattern:

Current:
```tsx
<Sparkles size={18} className={...} />
<span className="font-medium text-slate-200">
```

Change to match main page pattern:
```tsx
<span className="text-md uppercase tracking-widest text-white font-medium flex items-center gap-2 drop-shadow-[0_0_8px_rgba(255,255,255,0.4)]">
  <div className="w-2 h-2 rounded-full bg-purple-500 shadow-[0_0_8px_rgba(168,85,247,0.6)]" />
  {isActivityMode ? 'Autoplay Activity' : 'Autoplay Setup'}
</span>
```

Note: Use purple indicator dot for autoplay (matches processing semantic color).

2. **Section headers (lines 264, 302, 348):** The `text-sm font-medium text-slate-400 uppercase tracking-wider` is good. Consider adding `type-body-sm` but current styling is acceptable for section headers.

3. **Counter description (line 122-123):** Already using `type-label text-slate-500` - correct.

4. **Toggle description (line 182):** Already using `type-label text-slate-500` - correct.

Main focus: Header styling to match main page components with indicator dot pattern.
  </action>
  <verify>
    - Modal header uses `text-md uppercase tracking-widest` pattern
    - Header has indicator dot with glow shadow
    - Header has drop-shadow effect
    - File builds without TypeScript errors
  </verify>
  <done>AutoplaySetupModal header matches main page visual style</done>
</task>

</tasks>

<verification>
After completing all tasks:
1. Run `npm run build` to verify no TypeScript errors
2. Visual inspection in browser:
   - Open Activity Modal and compare header style to CentralBrain header
   - Verify all text is legible (no text smaller than 11px)
   - Confirm color scheme matches app theme (slate/cyan/purple)
3. Grep verification: `grep -r "text-\[10px\]" app/features/simulator/subfeature_brain/components/` should return empty
</verification>

<success_criteria>
- No `text-[10px]` in Activity Modal components (WCAG AA compliance)
- `type-label` used for smallest text elements
- Modal header matches main page header pattern (indicator dot + drop-shadow)
- All three components build without errors
- Visual consistency with main page components
- UI-01, UI-02, UI-03 requirements satisfied
</success_criteria>

<output>
After completion, create `.planning/phases/03-polish-docs/03-02-SUMMARY.md`
</output>
